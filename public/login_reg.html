<!DOCTYPE html>

<html>
<head>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
        
        <title>ReST API Methoden</title>
        <meta name="description" content="ReST-API Dokumentation">
        <meta name="version" content="v00.00.21">
        <meta name="author" content="ZHENG Robert" />
        <meta name="date" content="2019-06-28T11:49:37+02:00">
        <meta name="language" content="DE" />
        <meta name="lang" content="de" />
        
        <link rel="icon" type="image/svg+xml" href="/favicon.svg">
		<link rel="alternate icon" href="/favicon.ico">
		<link rel="mask-icon" href="/favicon.svg" color="#b2b2b2">
		
		<link rel="preload" href="/fonts/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin />
  
        <script src="/js/cookie-alert/CookieAlert.js"></script>
        <script type="module" src="/js/itis_init.js" /></script>
                
        <link rel="stylesheet" href="/css/w3.css">
        <link rel="stylesheet" href="/css/custom.css">

  <script>
    function doLocal()
    {
        console.log("this is local");

        let l_footer = document.getElementById("itisFooter");
        l_footer.message = '<a href="/stdsystem/license" title="license">License</a>&nbsp;<a href="/stdsystem/imprint" title="Impressum">Imprint</a>';

        //let l_menu = document.getElementById("itisMenu"); 
        //l_menu.message = "<%= controller()->name() %>";
        
        if (location.protocol !== 'https:') 
		{
			let msg = "<img class=\"w3-yellow\" src=\"/Icons/exclamation-square.svg\">&nbsp; Dies ist keine SSL-gesicherte Verbindung.";
			document.getElementById("redmsg").innerHTML = msg;
		}
    }

  function setLanguage(lang)
	{
		if(lang == "0")
		{lang = "de";}
		else{lang = "en";}
		document.cookie = "lang=" + lang + ";" + ";path=/";
		location.reload();
	}    

  </script>   
  
<style>
	.set-width { max-width: 33%; min-width: 100px; border-radius: 5px;}
	.w3-half { margin-bottom: 1rem;}
	.w3-input { border-radius: 5px; margin-bottom: 1rem; }
	fieldset { border-radius: 5px; }
</style>

	<!-- dev  -->
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

	<!-- prod
	<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
   -->
</head>

<body class="w3-container w3-margin" id="body">

  <itis-menu id="itisMenu" message=""></itis-menu>

  <div class="w3-container w3-light-blue">
    <h2 id="portaltitle">ITIS-API::Admin-Portal</h2>
  </div>

  <itis-menusub id="itisMenuSub" message="<%= controller()->name() %>"></itis-menusub>

<h3 id="pagetitle"><page-title message=""><%= controller()->name() + ": " + controller()->activeAction() %></page-title></h3>
<div id="pagedesc"><page-desc message=""></page-desc></div>

<span style="color: red">
	<span  id="redmsg"><%==$ red_msg %></span>&nbsp;<span><%=$ error %></span>
</span>
<span style="color: green">
	<span id="greenmsg"><%==$ green_msg %></span>&nbsp;<span id="green_notice"><%=$ notice %></span>
</span>

<cookie-alert id="cookieAlert" message='Auch diese Webseite mag Cookies...<small><a href="/stdsystem/imprint#cookies" title="Impressum" style="color:rgb(255, 255, 255);">Details siehe: Impressum</a></small>'></cookie-alert>

<main>
	
<section>
	<div class="w3-container">
		<div class="w3-row">
			<a style="background: none;" href="javascript:void(0)" onclick="openTab(event, 'loginform');">
				<div class="w3-third tablink w3-bottombar w3-hover-light-grey w3-padding w3-border-light-blue">Login</div>
			</a>
			<a style="background: none;" href="javascript:void(0)" onclick="openTab(event, 'registration');">
				<div class="w3-third tablink w3-bottombar w3-hover-light-grey w3-padding">Registration</div>
			</a>
		</div>

		<div id="loginform" class="w3-container tabby" style="display:block">
			<h3>Anmeldung</h3>
			<p>
			<form action="/account/login" method="post">
				<label class="w3-opacity" for="username">Login Name <small>(eMail-Adresse)</small>:
					<br />
					<input type="email" id="username" class="w3-input set-width" name="username" value="" autofocus required />
				</label>
				<label class="w3-opacity" for="password">Passwort:
					<br>
					<input type="password" id="password"  class="w3-input set-width" name="password" value="" required />
				</label>
				<p>
					<input type="submit" value="login &raquo;" title="submit" />

					<popup-info data-text="die &Uuml;bertragung sollte &uuml;ber eine gesicherte SSL-Verbindung erfolgen.">
					</popup-info>
				</p>
			</form>
			</p>
		</div>
		
		<div id="registration" class="w3-container tabby" style="display:none">
			<h3>Registrierung</h3>
			<p>
			<form id="formReg">
				<div class="w3-row-padding">
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Vorname</span>
							<br />
							<input class="w3-input" name="firstname" pattern="[A-Za-z]{2,128}" value="" required />
						</label>
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Familienname</span>
							<br />
							<input class="w3-input" name="surname" pattern="[A-Za-z]{2,128}" value="" required />
						</label>
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">eMail</span>
							<popup-info data-text="an diese eMail-Adresse wird die Registrierungs-Best&auml;tigung versendet.">
							</popup-info>
							<br />
							<input class="w3-input" name="email" type="email" value="" required />
						</label>
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Login Name</span>
							<popup-info data-text="mit dieser eMail-Adresse werden Sie sich sp&auml;ter am System anmelden.">
							</popup-info>
							<br />
							<input class="w3-input" type="email" name="username" value="" required readonly />
						</label>
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Firma</span>
							<popup-info data-text="Unternehmen f&uuml;r das Sie t&auml;tig sind.">
							</popup-info>
							<br />
							<input class="w3-input" name="company" value="" required />
						</label>
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Zeitzone</span>
							<popup-info data-text="die Zeitzone in der Sie sich &uuml;berwiegend aufhalten.">
							</popup-info>
						</label>
						<br />
						<input class="w3-input" list="zonen" id="userTimezone" name="userTimezone" value="Europe/Berlin"/>
							<datalist id="zonen">
								<option value="Africa/Pretoria">
								<option value="Asia/Beijing">
								<option value="Europe/Amsterdam">
								<option value="Europe/Berlin">
								<option value="Europe/Budapest">
								<option value="Europe/London">
								<option value="Europe/Moscow">
							</datalist>
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Password</span>
							<popup-info data-text="das Passwort wird SHA2-256 verschl&uuml;sselt.">
							</popup-info>
						</label>
						<img src="" id="pwdimg" width="10px" />
						<br />
						<input name="password" type="password" id="txtPassword" title="Password must contain: Minimum 8 characters and at least 1 Alphabet and 1 Number" class="w3-input" required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" />
					</div>
					<div class="w3-half">
						<label>
							<span class="w3-opacity">Password wiederholen</span>
							<popup-info data-text="das Passwort wird SHA2-256 verschl&uuml;sselt.">
							</popup-info>
						</label>
						<img src="" id="confirmimg" width="10px" />
						<br />
						<input name="txtConfirmPassword" type="password" id="txtConfirmPassword" class="w3-input" />
					</div>
				</div>
				<fieldset>
					<legend>
						Newsletter <popup-info data-text="Benachrichtigungen &uuml;ber Produkt-&Auml;nderungen sowie Aktualisierungen der Vorgaben."></popup-info>
					</legend>
					<input type="radio" id="news_de" name="news" value="de" checked>
					<label for="news_de">deutsch</label>
					<br>
					<input type="radio" id="news_en" name="news" value="en">
					<label for="news_en">englisch</label>
					<br>
					<input type="radio" id="news_no" name="news" value="no">
					<label for="news_no">keinen</label>
				</fieldset>
				<p>
					<input type="submit" id="submitpwd" value="absenden &raquo;" title="submit" onclick="sendPwdChange" />
					<popup-info data-text="die &Uuml;bertragung sollte &uuml;ber eine gesicherte SSL-Verbindung erfolgen.">
					</popup-info>
				</p>
			</form>
			</p> 
	  </div>
	</div>
</section>

</main>

<script>
	function openTab(evt, tabName) 
	{
		document.getElementById("redmsg").innerHTML = "";
		document.getElementById("greenmsg").innerHTML = "";

		var i, x, tablinks;
		x = document.getElementsByClassName("tabby");
		for (i = 0; i < x.length; i++) 
		{
			x[i].style.display = "none";
		}
		tablinks = document.getElementsByClassName("tablink");
		for (i = 0; i < x.length; i++) 
		{
			tablinks[i].className = tablinks[i].className.replace(" w3-border-light-blue", "");
		}
		document.getElementById(tabName).style.display = "block";
		evt.currentTarget.firstElementChild.className += " w3-border-light-blue";
	}
</script>

<itis-footer id="itisFooter" message=""></itis-footer>
</body>
</html>
